<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>New York Times</title>
    <script>
      const KEY = "key";
      const VALUE = "value";
      var content;
      function go() {
        window.open("nytimes:///", "nytimes");
      }
      function maybeHide() {
        if (get()) {
          content.style.display = 'none';
        }
      }
      function init() {
        content = document.getElementById("content");
        maybeHide();
        window.addEventListener("focus", function() {
          if (get()) {
            go();
          }
        }, false);
      }
      function get() {
        return window.localStorage.getItem(KEY) === VALUE;
      }
      function set() {
        window.localStorage.setItem(KEY, VALUE);
        maybeHide();
        go();
      }
    </script>
  </head>
  <body onload="init()">
    <div id="content">
      <h1>New York Times Launcher</h1>
      <ol>
        <li>Add this launcher as a Web Clip.</li>
        <li>Click <a href="javascript:set()">this link</a> to skip this page.</li>
      </ol>
    </div>
  </body>
</html>
